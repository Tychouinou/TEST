<!DOCTYPE html>
<html>
<head>
    <title>Test Firebase v8</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
</head>
<body>
    <h1>Test Firebase</h1>
    <button id="testBtn">Tester</button>
    <script>
        firebase.initializeApp({
            apiKey: "AIzaSyA1JNHr7GYMMQGhpHFnX4zH0_1vJ4OfRXo",
            authDomain: "testvotecommun.firebaseapp.com",
            databaseURL: "https://testvotecommun-default-rtdb.firebaseio.com/",
            projectId: "testvotecommun",
            storageBucket: "testvotecommun.firebasestorage.app",
            messagingSenderId: "1024528698634",
            appId: "1:1024528698634:web:3427a41ce0d6f37c0dfef3"
        });

        const db = firebase.database();
        const ref = db.ref('test');

        document.getElementById('testBtn').onclick = function() {
            ref.set({ message: 'Hello', timestamp: Date.now() });
            alert('Données envoyées ! Vérifiez la console Firebase');
        };

        ref.on('value', snapshot => {
            console.log('Données reçues:', snapshot.val());
        });
    </script>
</body>
</html>